{"version":3,"sources":["index.js"],"names":["React","createElement","ReactDOM","render","vnode","container","innerHTML","tag","attrs","children","textNode","document","createTextNode","appendChild","dom","Object","keys","forEach","key","value","setAttribute","child","name","test","toLowerCase","style","cssText","removeAttribute","tick","element","Date","toLocaleTimeString","getElementById","setInterval"],"mappings":"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","file":"react_source_code_practice.e31bb0bc.map","sourceRoot":"..","sourcesContent":["const React = {\n    createElement\n}\n\nconst ReactDOM = {\n    render: ( vnode, container ) => {\n        container.innerHTML = '';\n        return render( vnode, container );\n    }\n}\n\nfunction createElement( tag, attrs, ...children ) {\n    return {\n        tag,\n        attrs,\n        children\n    }\n}\n\nfunction render( vnode, container ) {\n\n    if ( typeof vnode === 'string' ) {\n        let textNode = document.createTextNode( vnode );\n        return container.appendChild( textNode );\n    }\n\n    const dom = document.createElement( vnode.tag );\n\n    if ( vnode.attrs ) {\n        Object.keys( vnode.attrs ).forEach( key => {\n            const value = vnode.attrs[ key ];\n            setAttribute( dom, key, value );\n        } );\n    }\n\n    vnode.children.forEach( child => render( child, dom ) );\n\n    return container.appendChild( dom );\n}\n\nfunction setAttribute( dom, name, value ) {\n    // 如果属性名是class，则改回className\n    if ( name === 'className' ) name = 'class';\n\n    // 如果属性名是onXXX，则是一个时间监听方法\n    if ( /on\\w+/.test( name ) ) {\n        name = name.toLowerCase();\n        dom[ name ] = value || '';\n    // 如果属性名是style，则更新style对象\n    } else if ( name === 'style' ) {\n        if ( !value || typeof value === 'string' ) {\n            dom.style.cssText = value || '';\n        } else if ( value && typeof value === 'object' ) {\n            for ( let name in value ) {\n                // 可以通过style={ width: 20 }这种形式来设置样式，可以省略掉单位px\n                dom.style[ name ] = typeof value[ name ] === 'number' ? value[ name ] + 'px' : value[ name ];\n            }\n        }\n    // 普通属性则直接更新属性\n    } else {\n        if ( name in dom ) {\n            dom[ name ] = value || '';\n        }\n        if ( value ) {\n            dom.setAttribute( name, value );\n        } else {\n            dom.removeAttribute( name, value );\n        }\n    }\n}\n\nfunction tick() {\n    const element = (\n        <div>\n            <h1>Hello, world!</h1>\n            <h2>It is {new Date().toLocaleTimeString()}.</h2>\n        </div>\n      );\n    ReactDOM.render(\n        element,\n        document.getElementById( 'root' )\n    );\n}\n\nsetInterval( tick, 1000 );"]}